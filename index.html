<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte M칠dico - An치lisis de Pisada y Presiones Plantares</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="supabase-secrets.js"></script>
    <script>
        // Proteger p치gina: verificar que est칠 logueado
        window.addEventListener('load', () => {
            const isLoggedIn = sessionStorage.getItem('isLoggedIn');
            if (!isLoggedIn) {
                window.location.href = 'login.html';
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <img src="kinetiq_logo.png" alt="Logo Kinetiq" class="logo">
                </div>
                <div class="title-section">
                    <h1 class="main-title">An치lisis de Pisada y Presiones Plantares</h1>
                </div>
                <div class="date-section">
                    <p class="report-date" id="reportDate"></p>
                    <a href="reportes.html" style="color: white; font-size: 12px; text-decoration: none; opacity: 0.8;">游늶 Mis Reportes</a>
                </div>
            </div>
        </header>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <form id="reportForm" class="form-container">

                <!-- SECCI칍N 1: DATOS GENERALES -->
                <section class="section">
                    <div class="section-header">
                        <h2>DATOS GENERALES</h2>
                    </div>

                    <div class="section-content">
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="nombre">Nombre:</label>
                                <input type="text" id="nombre" name="nombre" class="form-control" placeholder="Ingrese nombre">
                            </div>
                            <div class="form-group">
                                <label for="apellido">Apellido:</label>
                                <input type="text" id="apellido" name="apellido" class="form-control" placeholder="Ingrese apellido">
                            </div>
                        </div>

                        <div class="form-grid-4">
                            <div class="form-group">
                                <label for="edad">Edad:</label>
                                <input type="number" id="edad" name="edad" class="form-control" min="0" max="120" placeholder="a침os">
                            </div>
                            <div class="form-group">
                                <label for="peso">Peso (kg):</label>
                                <input type="number" id="peso" name="peso" class="form-control" min="20" step="0.1" placeholder="kg">
                            </div>
                            <div class="form-group">
                                <label for="sexo">Sexo:</label>
                                <select id="sexo" name="sexo" class="form-control">
                                    <option value="">Seleccione...</option>
                                    <option value="Masculino">Masculino</option>
                                    <option value="Femenino">Femenino</option>
                                    <option value="No especificado">No especificado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="cc">CC:</label>
                                <input type="text" id="cc" name="cc" class="form-control" placeholder="C칠dula">
                            </div>
                        </div>

                        <div class="form-grid-4">
                            <div class="form-group">
                                <label for="talla">Talla (cm):</label>
                                <input type="number" id="talla" name="talla" class="form-control" min="50" step="0.1" placeholder="cm">
                            </div>
                            <div class="form-group">
                                <label for="dominancia">Dominancia:</label>
                                <select id="dominancia" name="dominancia" class="form-control">
                                    <option value="">Seleccione...</option>
                                    <option value="Derecha">Derecha</option>
                                    <option value="Izquierda">Izquierda</option>
                                    <option value="Ambidiestro">Ambidiestro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="imc">IMC:</label>
                                <input type="number" id="imc" name="imc" class="form-control" readonly placeholder="C치lculo autom치tico">
                            </div>
                            <div class="form-group">
                                <label for="celular">Celular:</label>
                                <input type="tel" id="celular" name="celular" class="form-control" placeholder="10 d칤gitos">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 2: ANAMNESIS Y ANTECEDENTES CL칈NICOS -->
                <section class="section">
                    <div class="section-header">
                        <h2>ANAMNESIS Y ANTECEDENTES CL칈NICOS</h2>
                    </div>

                    <div class="antecedents-grid">
                        <div class="form-group">
                            <label for="antecMedicos">Antecedentes m칠dicos:</label>
                            <textarea id="antecMedicos" name="antecMedicos" class="form-control textarea" rows="3" placeholder="Ingrese los antecedentes m칠dicos..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="antecQuirurgicos">Antecedentes quir칰rgicos:</label>
                            <textarea id="antecQuirurgicos" name="antecQuirurgicos" class="form-control textarea" rows="3" placeholder="Ingrese los antecedentes quir칰rgicos..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="antecLesiones">Antecedentes de lesiones:</label>
                            <textarea id="antecLesiones" name="antecLesiones" class="form-control textarea" rows="3" placeholder="Ingrese los antecedentes de lesiones..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="antecTrauma">Antecedentes traum치ticos:</label>
                            <textarea id="antecTrauma" name="antecTrauma" class="form-control textarea" rows="3" placeholder="Ingrese los antecedentes traum치ticos..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="antecMetabolico">Antecedentes metab칩licos:</label>
                            <textarea id="antecMetabolico" name="antecMetabolico" class="form-control textarea" rows="3" placeholder="Ingrese los antecedentes metab칩licos..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="hospitalizaciones">Hospitalizaciones:</label>
                            <textarea id="hospitalizaciones" name="hospitalizaciones" class="form-control textarea" rows="2" placeholder="Ingrese informaci칩n de hospitalizaciones..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="alergias">Alergias:</label>
                            <textarea id="alergias" name="alergias" class="form-control textarea" rows="2" placeholder="Ingrese alergias conocidas..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 3: ACTIVIDAD F칈SICA Y ENTRENAMIENTO -->
                <section class="section">
                    <div class="section-header">
                        <h2>ACTIVIDAD F칈SICA Y ENTRENAMIENTO</h2>
                    </div>

                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="deporte">Actividad / Deporte:</label>
                            <input type="text" id="deporte" name="deporte" class="form-control" placeholder="Ej. F칰tbol">
                        </div>
                        <div class="form-group">
                            <label for="tiempoDeporte">Tiempo en el deporte:</label>
                            <input type="text" id="tiempoDeporte" name="tiempoDeporte" class="form-control" placeholder="Ej. 8 a침os">
                        </div>
                    </div>

                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="rol">Rol en el deporte:</label>
                            <input type="text" id="rol" name="rol" class="form-control" placeholder="Ej. Mediocampista">
                        </div>
                        <div class="form-group">
                            <label for="club">Club:</label>
                            <input type="text" id="club" name="club" class="form-control" placeholder="Nombre del club">
                        </div>
                    </div>

                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="entrenador">Entrenador:</label>
                            <input type="text" id="entrenador" name="entrenador" class="form-control" placeholder="Nombre del entrenador">
                        </div>
                        <div class="form-group">
                            <label for="diasEntrenamiento">D칤as de entrenamientos:</label>
                            <input type="text" id="diasEntrenamiento" name="diasEntrenamiento" class="form-control" placeholder="Ej. 5 d칤as">
                        </div>
                    </div>

                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="diasGimnasio">D칤as de gimnasio:</label>
                            <input type="text" id="diasGimnasio" name="diasGimnasio" class="form-control" placeholder="Ej. 3 d칤as">
                        </div>
                        <div class="form-group">
                            <label for="diasDescanso">D칤as de descanso:</label>
                            <input type="text" id="diasDescanso" name="diasDescanso" class="form-control" placeholder="Ej. 1 d칤a">
                        </div>
                    </div>

                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="tenis">Tenis que usa:</label>
                            <input type="text" id="tenis" name="tenis" class="form-control" placeholder="Ej. Nike Pegasus">
                        </div>
                        <div class="form-group">
                            <label for="competencia">Carrera/Competencia preparando:</label>
                            <input type="text" id="competencia" name="competencia" class="form-control" placeholder="Ej. Marat칩n de Bogot치">
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 4: MOTIVO DE CONSULTA -->
                <section class="section">
                    <div class="section-header">
                        <h2>MOTIVO DE CONSULTA</h2>
                    </div>

                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="motivoConsulta">Motivo de consulta:</label>
                            <textarea id="motivoConsulta" name="motivoConsulta" class="form-control textarea" rows="4" placeholder="Describa el motivo principal de la consulta..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="notasAdicionales">Notas adicionales:</label>
                            <textarea id="notasAdicionales" name="notasAdicionales" class="form-control textarea" rows="4" placeholder="Ingrese notas adicionales..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 5: VALORACI칍N FISIOTERAPIA DEPORTIVA -->
                <section class="section">
                    <div class="section-header">
                        <h2>VALORACI칍N FISIOTERAPIA DEPORTIVA</h2>
                    </div>

                    <div class="form-group">
                        <label for="postura">Postura:</label>
                        <textarea id="postura" name="postura" class="form-control textarea" rows="3" placeholder="Describa la valoraci칩n postural..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="marcha">Marcha:</label>
                        <textarea id="marcha" name="marcha" class="form-control textarea" rows="3" placeholder="Describa la valoraci칩n de la marcha..."></textarea>
                    </div>

                    <div class="form-grid-2">
                        <div class="form-group">
                            <label for="hods">HODS:</label>
                            <select id="hods" name="hods" class="form-control">
                                <option value="">Seleccione...</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="lunge">Lunge:</label>
                            <select id="lunge" name="lunge" class="form-control">
                                <option value="">Seleccione...</option>
                                <option value="+">+</option>
                                <option value="-">-</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="observaciones">Observaciones:</label>
                        <textarea id="observaciones" name="observaciones" class="form-control textarea" rows="3" placeholder="Ingrese observaciones adicionales..."></textarea>
                    </div>
                </section>

                <!-- SECCI칍N 5.5: AN츼LISIS BIOMEC츼NICO - OJOS ABIERTOS -->
                <section class="section">
                    <div class="section-header">
                        <h2>AN츼LISIS BIOMEC츼NICO - OJOS ABIERTOS</h2>
                    </div>

                    <div class="section-content">
                        <!-- Equilibrio Bipedal -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin-bottom: 12px; font-weight: 600;">Equilibrio Bipedal</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="areaElipseIzq">Izquierda (cm):</label>
                                <input type="number" id="areaElipseIzq" name="areaElipseIzq" class="form-control" step="0.1" placeholder="Ej: 12.9">
                            </div>
                            <div class="form-group">
                                <label for="areaElipseDer">Derecha (cm):</label>
                                <input type="number" id="areaElipseDer" name="areaElipseDer" class="form-control" step="0.1" placeholder="Ej: 8.5">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="areaElipseAsim">Asimetr칤a (%):</label>
                            <input type="number" id="areaElipseAsim" name="areaElipseAsim" class="form-control" step="0.1" placeholder="Ej: 51">
                        </div>

                        <!-- Desviaciones Internas -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Desviaciones Internas</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="desvIntIzq">Izquierda (%):</label>
                                <input type="number" id="desvIntIzq" name="desvIntIzq" class="form-control" step="0.1" placeholder="Ej: 17.9">
                            </div>
                            <div class="form-group">
                                <label for="desvIntDer">Derecha (%):</label>
                                <input type="number" id="desvIntDer" name="desvIntDer" class="form-control" step="0.1" placeholder="Ej: 8.5">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="desvIntAsim">Asimetr칤a (%):</label>
                            <input type="number" id="desvIntAsim" name="desvIntAsim" class="form-control" step="0.1" placeholder="Ej: 51">
                        </div>

                        <!-- Bipodestaci칩n Lateral -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Bipodestaci칩n Lateral</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="bipodLateralIzq">Izquierda (cm):</label>
                                <input type="number" id="bipodLateralIzq" name="bipodLateralIzq" class="form-control" step="0.1" placeholder="Ej: 12.9">
                            </div>
                            <div class="form-group">
                                <label for="bipodLateralDer">Derecha (cm):</label>
                                <input type="number" id="bipodLateralDer" name="bipodLateralDer" class="form-control" step="0.1" placeholder="Ej: 10.3">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="bipodLateralAsim">Asimetr칤a (%):</label>
                            <input type="number" id="bipodLateralAsim" name="bipodLateralAsim" class="form-control" step="0.1" placeholder="Ej: 45">
                        </div>

                        <!-- Distribuci칩n de Peso Tal칩n-Dedos -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Distribuci칩n de Peso Tal칩n-Dedos</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="distPesoTalonIzq">Tal칩n Izq (%):</label>
                                <input type="number" id="distPesoTalonIzq" name="distPesoTalonIzq" class="form-control" step="0.1" placeholder="Ej: 48.5">
                            </div>
                            <div class="form-group">
                                <label for="distPesoTalonDer">Tal칩n Der (%):</label>
                                <input type="number" id="distPesoTalonDer" name="distPesoTalonDer" class="form-control" step="0.1" placeholder="Ej: 51.5">
                            </div>
                        </div>

                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="distPesoDedosIzq">Dedos Izq (%):</label>
                                <input type="number" id="distPesoDedosIzq" name="distPesoDedosIzq" class="form-control" step="0.1" placeholder="Ej: 52.1">
                            </div>
                            <div class="form-group">
                                <label for="distPesoDedosDer">Dedos Der (%):</label>
                                <input type="number" id="distPesoDedosDer" name="distPesoDedosDer" class="form-control" step="0.1" placeholder="Ej: 47.9">
                            </div>
                        </div>

                        <!-- Asimetr칤a en Amplitud Tal칩n-Dedos -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Asimetr칤a en Amplitud Tal칩n-Dedos</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="asimAmpTalonDedosIzq">Izquierda (%):</label>
                                <input type="number" id="asimAmpTalonDedosIzq" name="asimAmpTalonDedosIzq" class="form-control" step="0.1" placeholder="Ej: 17.9">
                            </div>
                            <div class="form-group">
                                <label for="asimAmpTalonDedosDer">Derecha (%):</label>
                                <input type="number" id="asimAmpTalonDedosDer" name="asimAmpTalonDedosDer" class="form-control" step="0.1" placeholder="Ej: 18.2">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 5.6: AN츼LISIS BIOMEC츼NICO - OJOS CERRADOS -->
                <section class="section">
                    <div class="section-header">
                        <h2>AN츼LISIS BIOMEC츼NICO - OJOS CERRADOS</h2>
                    </div>

                    <div class="section-content">
                        <!-- Equilibrio Bipedal -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin-bottom: 12px; font-weight: 600;">Equilibrio Bipedal</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="areaElipseIzqCC">Izquierda (cm):</label>
                                <input type="number" id="areaElipseIzqCC" name="areaElipseIzqCC" class="form-control" step="0.1" placeholder="Ej: 12.9">
                            </div>
                            <div class="form-group">
                                <label for="areaElipseDerCC">Derecha (cm):</label>
                                <input type="number" id="areaElipseDerCC" name="areaElipseDerCC" class="form-control" step="0.1" placeholder="Ej: 8.5">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="areaElipseAsimCC">Asimetr칤a (%):</label>
                            <input type="number" id="areaElipseAsimCC" name="areaElipseAsimCC" class="form-control" step="0.1" placeholder="Ej: 51">
                        </div>

                        <!-- Desviaciones Internas -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Desviaciones Internas</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="desvIntIzqCC">Izquierda (%):</label>
                                <input type="number" id="desvIntIzqCC" name="desvIntIzqCC" class="form-control" step="0.1" placeholder="Ej: 17.9">
                            </div>
                            <div class="form-group">
                                <label for="desvIntDerCC">Derecha (%):</label>
                                <input type="number" id="desvIntDerCC" name="desvIntDerCC" class="form-control" step="0.1" placeholder="Ej: 8.5">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="desvIntAsimCC">Asimetr칤a (%):</label>
                            <input type="number" id="desvIntAsimCC" name="desvIntAsimCC" class="form-control" step="0.1" placeholder="Ej: 51">
                        </div>

                        <!-- Bipodestaci칩n Lateral -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Bipodestaci칩n Lateral</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="bipodLateralIzqCC">Izquierda (cm):</label>
                                <input type="number" id="bipodLateralIzqCC" name="bipodLateralIzqCC" class="form-control" step="0.1" placeholder="Ej: 12.9">
                            </div>
                            <div class="form-group">
                                <label for="bipodLateralDerCC">Derecha (cm):</label>
                                <input type="number" id="bipodLateralDerCC" name="bipodLateralDerCC" class="form-control" step="0.1" placeholder="Ej: 10.3">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="bipodLateralAsimCC">Asimetr칤a (%):</label>
                            <input type="number" id="bipodLateralAsimCC" name="bipodLateralAsimCC" class="form-control" step="0.1" placeholder="Ej: 45">
                        </div>

                        <!-- Distribuci칩n de Peso Tal칩n-Dedos -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Distribuci칩n de Peso Tal칩n-Dedos</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="distPesoTalonIzqCC">Tal칩n Izq (%):</label>
                                <input type="number" id="distPesoTalonIzqCC" name="distPesoTalonIzqCC" class="form-control" step="0.1" placeholder="Ej: 48.5">
                            </div>
                            <div class="form-group">
                                <label for="distPesoTalonDerCC">Tal칩n Der (%):</label>
                                <input type="number" id="distPesoTalonDerCC" name="distPesoTalonDerCC" class="form-control" step="0.1" placeholder="Ej: 51.5">
                            </div>
                        </div>

                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="distPesoDedosIzqCC">Dedos Izq (%):</label>
                                <input type="number" id="distPesoDedosIzqCC" name="distPesoDedosIzqCC" class="form-control" step="0.1" placeholder="Ej: 52.1">
                            </div>
                            <div class="form-group">
                                <label for="distPesoDedosDerCC">Dedos Der (%):</label>
                                <input type="number" id="distPesoDedosDerCC" name="distPesoDedosDerCC" class="form-control" step="0.1" placeholder="Ej: 47.9">
                            </div>
                        </div>

                        <!-- Asimetr칤a en Amplitud Tal칩n-Dedos -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Asimetr칤a en Amplitud Tal칩n-Dedos</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="asimAmpTalonDedosIzqCC">Izquierda (%):</label>
                                <input type="number" id="asimAmpTalonDedosIzqCC" name="asimAmpTalonDedosIzqCC" class="form-control" step="0.1" placeholder="Ej: 17.9">
                            </div>
                            <div class="form-group">
                                <label for="asimAmpTalonDedosDerCC">Derecha (%):</label>
                                <input type="number" id="asimAmpTalonDedosDerCC" name="asimAmpTalonDedosDerCC" class="form-control" step="0.1" placeholder="Ej: 18.2">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 6: EQUILIBRIO UNIPODAL -->
                <section class="section">
                    <div class="section-header">
                        <h2>EQUILIBRIO UNIPODAL</h2>
                    </div>

                    <h3 style="color: var(--primary-color); font-size: 14px; margin: 16px 0 12px; font-weight: 600; padding-left: 24px;">Distribuci칩n de Peso</h3>

                    <div class="table-responsive">
                        <table class="data-table clean-table">
                            <thead>
                                <tr>
                                    <th>Posici칩n</th>
                                    <th>Izquierda (%)</th>
                                    <th>Derecha (%)</th>
                                    <th>Asimetr칤a (%)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Tal칩n</td>
                                    <td><input type="number" class="unipodal-input" data-unipodal="talon" data-col="izq" step="0.1"></td>
                                    <td><input type="number" class="unipodal-input" data-unipodal="talon" data-col="der" step="0.1"></td>
                                    <td><input type="number" class="unipodal-input" data-unipodal="talon" data-col="asim" step="0.1"></td>
                                </tr>
                                <tr>
                                    <td>Punta</td>
                                    <td><input type="number" class="unipodal-input" data-unipodal="punta" data-col="izq" step="0.1"></td>
                                    <td><input type="number" class="unipodal-input" data-unipodal="punta" data-col="der" step="0.1"></td>
                                    <td><input type="number" class="unipodal-input" data-unipodal="punta" data-col="asim" step="0.1"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Trazado de CdP -->
                    <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600; padding-left: 24px;">Trazado de CdP</h3>
                    
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>CdP</th>
                                    <th style="text-align: center;">Izquierda</th>
                                    <th style="text-align: center;">Derecha</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Anterior</td>
                                    <td style="text-align: center; vertical-align: middle;"><input type="checkbox" id="uniAnteriorIzq" name="uniAnteriorIzq" style="width: 20px; height: 20px; cursor: pointer;"></td>
                                    <td style="text-align: center; vertical-align: middle;"><input type="checkbox" id="uniAnteriorDer" name="uniAnteriorDer" style="width: 20px; height: 20px; cursor: pointer;"></td>
                                </tr>
                                <tr>
                                    <td>Medial</td>
                                    <td style="text-align: center; vertical-align: middle;"><input type="checkbox" id="uniMedialIzq" name="uniMedialIzq" style="width: 20px; height: 20px; cursor: pointer;"></td>
                                    <td style="text-align: center; vertical-align: middle;"><input type="checkbox" id="uniMedialDer" name="uniMedialDer" style="width: 20px; height: 20px; cursor: pointer;"></td>
                                </tr>
                                <tr>
                                    <td>Posterior</td>
                                    <td style="text-align: center; vertical-align: middle;"><input type="checkbox" id="uniPosteriorIzq" name="uniPosteriorIzq" style="width: 20px; height: 20px; cursor: pointer;"></td>
                                    <td style="text-align: center; vertical-align: middle;"><input type="checkbox" id="uniPosteriorDer" name="uniPosteriorDer" style="width: 20px; height: 20px; cursor: pointer;"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- SECCI칍N 7: AN츼LISIS DE SENTADILLA -->
                <section class="section">
                    <div class="section-header">
                        <h2>AN츼LISIS DE SENTADILLA</h2>
                    </div>

                    <div class="section-content">
                        <!-- N칰mero de Sentadillas -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin-bottom: 12px; font-weight: 600; padding-left: 0px;">N칰mero de Sentadillas</h3>
                        
                        <div class="form-group">
                            <input type="number" id="sentNumSentadillas" name="sentNumSentadillas" class="form-control" step="1" placeholder="Ej: 20">
                        </div>

                        <!-- Distribuci칩n de Peso -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600; padding-left: 0px;">Distribuci칩n de Peso</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="sentDistPesoIzq">Izquierda (%):</label>
                                <input type="number" id="sentDistPesoIzq" name="sentDistPesoIzq" class="form-control" step="0.1" placeholder="Ej: 48.5">
                            </div>
                            <div class="form-group">
                                <label for="sentDistPesoDer">Derecha (%):</label>
                                <input type="number" id="sentDistPesoDer" name="sentDistPesoDer" class="form-control" step="0.1" placeholder="Ej: 51.5">
                            </div>
                        </div>

                        <!-- Fuerza M치xima -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600; padding-left: 0px;">Fuerza M치xima</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="sentFuerzaIzqKg">Izquierda (Kg):</label>
                                <input type="number" id="sentFuerzaIzqKg" name="sentFuerzaIzqKg" class="form-control" step="0.1" placeholder="Ej: 45.5">
                            </div>
                            <div class="form-group">
                                <label for="sentFuerzaDerKg">Derecha (Kg):</label>
                                <input type="number" id="sentFuerzaDerKg" name="sentFuerzaDerKg" class="form-control" step="0.1" placeholder="Ej: 48.3">
                            </div>
                        </div>

                        <!-- Asimetr칤a -->
                        <div class="form-group">
                            <label for="sentAsimPorcentaje">Asimetr칤a (%):</label>
                            <input type="number" id="sentAsimPorcentaje" name="sentAsimPorcentaje" class="form-control" step="0.1" placeholder="Ej: 5.8">
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 8: AN츼LISIS DE FLEXIONES -->
                <section class="section">
                    <div class="section-header">
                        <h2>AN츼LISIS DE FLEXIONES</h2>
                    </div>

                    <div class="section-content">
                        <!-- N칰mero de Repeticiones -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin-bottom: 12px; font-weight: 600;">N칰mero de Repeticiones</h3>
                        
                        <div class="form-group">
                            <input type="number" id="flexNumReps" name="flexNumReps" class="form-control" step="1" placeholder="Ej: 15">
                        </div>

                        <!-- Distribuci칩n de Peso -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Distribuci칩n de Peso</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="flexDistPesoIzq">Izquierda (%):</label>
                                <input type="number" id="flexDistPesoIzq" name="flexDistPesoIzq" class="form-control" step="0.1" placeholder="Ej: 48.5">
                            </div>
                            <div class="form-group">
                                <label for="flexDistPesoDer">Derecha (%):</label>
                                <input type="number" id="flexDistPesoDer" name="flexDistPesoDer" class="form-control" step="0.1" placeholder="Ej: 51.5">
                            </div>
                        </div>

                        <!-- Fuerza M치xima -->
                        <h3 style="color: var(--primary-color); font-size: 14px; margin: 20px 0 12px; font-weight: 600;">Fuerza M치xima</h3>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="flexFuerzaIzqKg">Izquierda (Kg):</label>
                                <input type="number" id="flexFuerzaIzqKg" name="flexFuerzaIzqKg" class="form-control" step="0.1" placeholder="Ej: 25.5">
                            </div>
                            <div class="form-group">
                                <label for="flexFuerzaDerKg">Derecha (Kg):</label>
                                <input type="number" id="flexFuerzaDerKg" name="flexFuerzaDerKg" class="form-control" step="0.1" placeholder="Ej: 28.3">
                            </div>
                        </div>

                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="flexAsimPorcentaje">Asimetr칤a (%):</label>
                                <input type="number" id="flexAsimPorcentaje" name="flexAsimPorcentaje" class="form-control" step="0.1" placeholder="Ej: 10.9">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SECCI칍N 9: TESTS DE SALTO -->
                <section class="section">
                    <div class="section-header">
                        <h2>TESTS DE SALTO</h2>
                    </div>

                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Salto</th>
                                    <th>Peso</th>
                                    <th>Altura</th>
                                    <th>Velocidad</th>
                                    <th>Tiempo Vuelo</th>
                                    <th>Q</th>
                                    <th>Ca칤da</th>
                                    <th>N</th>
                                    <th>RFD</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>CMJ</strong></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="peso" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="altura" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="velocidad" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="tiempoVuelo" step="0.001"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="q" step="0.01"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="caida" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="n" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj" data-col="rfd" step="1"></td>
                                </tr>
                                <tr>
                                    <td><strong>SJ</strong></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="peso" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="altura" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="velocidad" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="tiempoVuelo" step="0.001"></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="q" step="0.01"></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="caida" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="n" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="sj" data-col="rfd" step="1"></td>
                                </tr>
                                <tr>
                                    <td><strong>DJ</strong></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="peso" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="altura" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="velocidad" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="tiempoVuelo" step="0.001"></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="q" step="0.01"></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="caida" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="n" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="dj" data-col="rfd" step="1"></td>
                                </tr>
                                <tr>
                                    <td><strong>Abralakov</strong></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="peso" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="altura" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="velocidad" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="tiempoVuelo" step="0.001"></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="q" step="0.01"></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="caida" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="n" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="abralakov" data-col="rfd" step="1"></td>
                                </tr>
                                <tr>
                                    <td><strong>CMJ 1-1</strong></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="peso" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="altura" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="velocidad" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="tiempoVuelo" step="0.001"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="q" step="0.01"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="caida" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="n" step="0.1"></td>
                                    <td><input type="number" class="salto-input" data-salto="cmj1-1" data-col="rfd" step="1"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- SECCI칍N 10: DINAMOMETR칈A -->
                <section class="section">
                    <div class="section-header">
                        <h2>DINAMOMETR칈A</h2>
                    </div>

                    <div class="form-group">
                        <label for="dinamometria">Datos de Dinamometr칤a:</label>
                        <textarea id="dinamometria" name="dinamometria" class="form-control textarea" rows="4" placeholder="Ingrese los datos de dinamometr칤a..."></textarea>
                    </div>
                </section>

                <!-- SECCI칍N 11: VELOCIDAD Y GONIOMETR칈A -->
                <section class="section">
                    <div class="section-header">
                        <h2>VELOCIDAD Y GONIOMETR칈A</h2>
                    </div>

                    <div class="form-group">
                        <label for="velocidad">Datos de Velocidad y Goniometr칤a:</label>
                        <textarea id="velocidad" name="velocidad" class="form-control textarea" rows="4" placeholder="Ingrese los datos de velocidad y goniometr칤a..."></textarea>
                    </div>
                </section>

                <!-- SECCI칍N: VALORACI칍N DE FUERZA COMPARATIVA -->
                <section class="section">
                    <div class="section-header">
                        <h2>VALORACI칍N DE FUERZA COMPARATIVA</h2>
                    </div>

                    <div class="form-group">
                        <label for="musculoFuerza">M칰sculo a evaluar:</label>
                        <input type="text" id="musculoFuerza" class="form-control" placeholder="Ej: Cu치driceps">
                    </div>

                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Medici칩n</th>
                                    <th style="text-align: center;">Izquierda</th>
                                    <th style="text-align: center;">Derecha</th>
                                    <th style="text-align: center;">Asimetr칤a (%)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Fuerza Max 179춿</strong></td>
                                    <td><input type="number" id="fuerzaMaxIzq" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="fuerzaMaxDer" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="fuerzaMaxAsim" class="salto-input" step="0.1" placeholder="0.0"></td>
                                </tr>
                                <tr>
                                    <td><strong>RFD 179춿</strong></td>
                                    <td><input type="number" id="rfdIzq" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="rfdDer" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="rfdAsim" class="salto-input" step="0.1" placeholder="0.0"></td>
                                </tr>
                                <tr>
                                    <td><strong>Fatiga 179춿</strong></td>
                                    <td><input type="number" id="fatigaIzq" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="fatigaDer" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="fatigaAsim" class="salto-input" step="0.1" placeholder="0.0"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <button type="button" class="btn btn-info" id="addFuerzaBtn" style="margin-top: 15px;">
                        <span>俱</span> Agregar Valoraci칩n de Fuerza
                    </button>

                    <!-- Lista de valoraciones agregadas -->
                    <div id="fuerzaList" style="margin-top: 20px;"></div>
                    <input type="hidden" id="fuerzaComparativaData" name="fuerzaComparativaData">
                </section>

                <!-- SECCI칍N: VALORACI칍N RANGO ACTIVO DE MOVIMIENTO -->
                <section class="section">
                    <div class="section-header">
                        <h2>VALORACI칍N RANGO ACTIVO Y PASIVO DE MOVIMIENTO</h2>
                    </div>

                    <div class="form-group">
                        <label for="articulacionRAM">Articulaci칩n a evaluar:</label>
                        <input type="text" id="articulacionRAM" class="form-control" placeholder="Ej: Rodilla">
                    </div>

                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Medici칩n</th>
                                    <th style="text-align: center;">Izquierda</th>
                                    <th style="text-align: center;">Derecha</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>츼ngulo m치ximo Activo 178춿</strong></td>
                                    <td><input type="number" id="anguloMaxIzq" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="anguloMaxDer" class="salto-input" step="0.1" placeholder="0.0"></td>
                                </tr>
                                <tr>
                                    <td><strong>Velocidad RAD 179춿</strong></td>
                                    <td><input type="number" id="velocidadRADIzq" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="velocidadRADDer" class="salto-input" step="0.1" placeholder="0.0"></td>
                                </tr>
                                <tr style="border-top: 2px solid #00C8D4;">
                                    <td><strong>츼ngulo m치ximo Pasivo 179춿</strong></td>
                                    <td><input type="number" id="anguloPasivoIzq" class="salto-input" step="0.1" placeholder="0.0"></td>
                                    <td><input type="number" id="anguloPasivoDer" class="salto-input" step="0.1" placeholder="0.0"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <button type="button" class="btn btn-info" id="addRAMBtn" style="margin-top: 15px;">
                        <span>俱</span> Agregar Valoraci칩n de Movimiento
                    </button>

                    <!-- Lista de valoraciones agregadas -->
                    <div id="ramList" style="margin-top: 20px;"></div>
                    <input type="hidden" id="rangoActivoData" name="rangoActivoData">
                </section>

                <!-- BOTONES DE ACCI칍N -->
                <section class="action-section">
                    <div class="button-group">
                        <button type="reset" class="btn btn-secondary">
                            <span>游댃</span> Limpiar
                        </button>
                        <button type="button" class="btn btn-info" id="loadFileBtn">
                            <span>游닌</span> Cargar Reporte
                        </button>
                        <button type="button" class="btn btn-success" id="saveBtn">
                            <span>游</span> Guardar
                        </button>
                        <button type="button" class="btn btn-primary" id="printBtn">
                            <span>游늯</span> Descargar PDF
                        </button>
                        <a href="bienvenida.html" class="btn btn-secondary" style="text-decoration: none; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <span></span> Volver al Inicio
                        </a>
                    </div>
                </section>

            </form>
        </main>

        <!-- FOOTER -->
        <footer class="footer">
            <p>&copy; KinetiqSports. Reporte M칠dico Digital. Dise침ado para profesionales de la salud.</p>
        </footer>
    </div>

    <!-- Input oculto para cargar archivos -->
    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <!-- Modal de confirmaci칩n -->
    <div id="confirmModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-icon">游늯</div>
            <h2 class="modal-title">쮻escargar y Guardar Reporte?</h2>
            <p class="modal-message">
                Se descargar치 el PDF y los datos del paciente se guardar치n en la base de datos de forma segura.
            </p>
            <div class="modal-loading">
                <div class="spinner"></div>
                <p style="color: #7f8c8d;">Guardando datos...</p>
            </div>
            <div class="modal-buttons">
                <button id="modalCancel" class="modal-btn modal-btn-cancel">Cancelar</button>
                <button id="modalConfirm" class="modal-btn modal-btn-confirm">S칤, Guardar</button>
            </div>
        </div>
    </div>

    <script src="supabase-config.js"></script>
    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>
